<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Servicios</title>
    <link href="support.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <script>
        const username = localStorage.getItem('user')
        const password = localStorage.getItem('pass')
        fetch('/login_api', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ username, password })
            })
            .then(response => response.json())
            .then(data => {
                if (data.rol === 'admin') {
                    const button = document.getElementById('stiky-button-admin')
                    button.innerHTML = "<button id='sticky-button' onclick='go_admin()'>Administrar Sitio</button>"
                }
            })
            .catch(error => {
                console.error('Error:', error);
            });
        
        document.addEventListener('DOMContentLoaded', function() {
            const div = document.getElementById('prodBoxes')
            const tipo = 'servicios'
            fetch('/get_content', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ tipo })
            })
            .then(response => response.json())
            .then(data => {
                data.resultado.forEach(element => {
                    div.insertAdjacentHTML('beforeEnd',`
                        <div class='prodBoxserv'>
                            <h3>${element.name}</h3>
                            <button id='verServicios'>Solicitar</button>
                            <p>${element.des}</p>
                        </div>
                    `)
                });
            })
            .catch(error => {
                console.error('Error:', error);
            });
        });
        function go_admin(){
            location.href = '/admin';
        }
    </script>
</head>
<body style="font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;">
    <nav id="nav">
        <a class="navlink" href="/">Principal</a>
        <a class="navlink" style="background-color: rgb(95, 106, 253);" href="servicios">Servicios</a>
        <a class="navlink" href="trabajos">Trabajos</a>
        <a class="navlink" href="productos">Productos</a>
        <a class="mainLink" href="/"><img style="border-radius: 50%;" src="favicon.ico" width="60" height="60" alt="ServTes"></a>
        <a class="mainLink" href="/"><h1>ServTes</h1></a>
    </nav>    
    <div id="prodBoxes">
    </div>
    <div class="footer">
        <div id="footerElm1" style="margin: 2rem;">
            <div class="form-container">
                <form class="form">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="text" id="email" name="email" required="">
                </div>
                <div class="form-group">
                    <label for="textarea">Solicitar soporte</label>
                    <textarea name="textarea" id="textarea" rows="10" cols="50" required=""></textarea>
                </div>
                <button class="form-submit-btn" type="submit">Enviar</button>
                </form>
            </div>
        </div>
        <script>
            function facebook(){
                location.href = "https://www.facebook.com/SERVTES.Oficial/";
            }
            function youtube(){
                location.href = 'https://www.youtube.com/@SERVTES';
            }
        </script>
        <div id="footerElm2">
            <button id="facebook" onclick="facebook()">
                <svg viewBox="0 0 16 16" class="bi bi-facebook" fill="currentColor" height="16" width="16" xmlns="http://www.w3.org/2000/svg">
                <path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"></path>
            </svg>
                <span>Facebook</span>
            </button>
            <button id="youtube" style="margin-top: 20px;" onclick="youtube()"> 
                <span class="icon"><svg fill="none" height="33" viewBox="0 0 120 120" width="33" xmlns="http://www.w3.org/2000/svg"><path d="m120 60c0 33.1371-26.8629 60-60 60s-60-26.8629-60-60 26.8629-60 60-60 60 26.8629 60 60z" fill="#cd201f"></path><path d="m25 49c0-7.732 6.268-14 14-14h42c7.732 0 14 6.268 14 14v22c0 7.732-6.268 14-14 14h-42c-7.732 0-14-6.268-14-14z" fill="#fff"></path><path d="m74 59.5-21 10.8253v-21.6506z" fill="#cd201f"></path></svg></span>
                <span class="text1">YouTube</span>
                <span class="text2">ST</span> 
            </button>
        </div>
    </div>
    <div id="stiky-button-admin"></div>
</body>
</html>